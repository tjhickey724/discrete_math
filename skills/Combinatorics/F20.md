# F20: Combinatorics: The Principle of Inclusion and Exclusion (PIE)

Ability to count the sizes of sets defined intersections and unions of larger sets.

---
## PIE for two sets

**Theorem.** If $A$ and $B$ are sets then

$$\vert A \cup B \vert = \vert A \vert + \vert B \vert - \vert A\cap B \vert$$

**Proof:**
we can write $A\cup B$ as the disjoint union of three sets
* $AB = A\cap B$ the intersection
* $A' = A - AB$
* $B' = B - AB$

By the addition principle the size of $A\cup B$ is the sum of the sizes of these sets:

$$\vert A \cup B \vert = \vert A - AB\vert + \vert B - AB\vert + \vert AB \vert$$

but we also know that 
* $\vert A \vert = \vert A - AB\vert + \vert AB \vert$
* $\vert B\vert = \vert B - AB\vert + \vert AB \vert$

and so adding these together we get

$$ \vert A \vert + \vert B \vert - \vert A\cap B\vert $$

$$=  \vert A - AB\vert + \vert AB \vert +  \vert B - AB\vert + \vert AB \vert - \vert AB \vert$$

$$=\vert A - AB\vert  +  \vert B - AB\vert  + \vert AB \vert$$

$$ = \vert A \cup B \vert$$

**Q.E.D.**


## PIE for three sets
If $A$, $B$, and $C$ are sets then
* $\vert A \cup B \vert = \vert A \vert + \vert B \vert - \vert A\cap B \vert$
* $\vert A \cup B \cup C \vert = \vert A \vert + \vert B \vert+ \vert C \vert  - \vert A\cap B \vert - \vert A\cap C \vert - \vert B\cap C \vert + \vert A\cap B \cap C\vert$
* and for larger interesections you alternately add and subtract the intersections of increasing numbers of sets
